# IO多路复用

## 概念



IO多路复用是指内核一旦发现进程指定一个或者多个IO条件准备读取，它就通知该进程，IO多路复用适用如下场合

1. 当客户处理多个描述符(一般是交互式输入和网络套接口)必须使用IO复用
2. 如果一个TCP服务器既要处理监听套接口，又要处理已连接套接口
3. 一个服务器既要处理TCP，又要处理UDP
4. 一个服务器要处理多个服务和多个协议
   
## 和多进程和多线程技术相比

I/O多路复用技术的最大优势是系统开销小，系统不必创建进程/线程 ，也不必维护它们，从而大大减小了系统的开销

## 支持的系统调用
- select
- pselect
- poll
- epoll
通过一种机制，一个进程可以监视多个描述符，一旦某个描述符就绪(一般是读就绪或者写就绪)，能够通知程序进行相应的读写操作，但select,pselect,poll,epoll本质上都是同步I/O，因为他们都需要在读写事件就绪后自己负责进行读写，也就是说这个读写过程是阻塞的，而异步I/O则无需自己负责进行读写，异步I/O的实现会负责把数据从内核拷贝到用户空间

## select,poll,epoll简介
epoll和select都能提供多路I/O复用的解决方案，在现在的linux内核里都有，其中epoll是linux特有的，而select则应该是POSIX所规定的