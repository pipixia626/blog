# 内存分配方式
## 全局/静态存储区域
存<strong>全局变量 ,静态变量</strong>。程序编译时内存已分配好
并存在于程序整个运行期间，程序结束后由系统统一释放全局变量和静态变
量被分配到同一块内存中。C 语言中，全局变量又分为初始化的和未初始化
的。初始化的全局变量和静态变量在一块区域，未初始化的全局变量与静态
变量在相邻的另一块区域。同时未被初始化的对象存储区可以通过 void* 来
访问和操纵，程序结束后由系统自行释放。在 C++ 里面没有区分，他们共同占用同一块内存区。
## 栈
存放函数的参数值，局部变量，函数执行结束时会被自动释放。
栈内存分配运算内置于处理器的指令集中，效率高，但是容量有限。
由编译器在需要的时候分配，在不需要的时候自动清除的变量的存储区。里面的变量通常是局部变量
、函数参数等。在一个进程中，位于用户虚拟地址空间顶部的是用户栈，用户栈可以在程序执行期间动态地扩展和收缩。

## 堆（动态内存分配）
通过new和malloc由低到高分配，由delete或free手动释放或者程序结束自动释放。
动态内存的生存期人为决定，使用灵活。缺点是容易分配/释放不当容易造成内存泄漏，
频繁分配/释放会产生大量内存碎片。 若程序员不释放，程序结束时可能由OS（操作系统）回收
## 字符/文字常量区
存放常量字符串，程序结束时由系统释放
## 程序代码区
存放函数体的二进制代码

# 堆和栈的区别

## 1：管理方式不同
对于栈来说，是由编译器自动管理，无需手工控制，二对于堆，释放工作由系统控制，容易产生memory leak

## 2：空间大小不同
堆（4G）32bit os
栈（1m)(编译器不同给予的不同）

## 3：能否产生碎片不同
栈不会产生碎片，因为栈是种先进后出的队列。堆则容易产生碎片，多次的new/delete 会造成内存的不连续，从而造成大量的碎片

## 4：生长方式不同
堆是向上的，随着内存地址增长的方向
栈是向下的，随着内存地址减少的方向

## 5：分配方式不同
堆：动态分配
栈：静态和动态分配
静态是由编译器分配的，比如局部变量的分配，动态地由malloc分配，但是栈的动态分配和堆是不同的，由编译器进行释放

## 6：分配效率不同
栈是机器系统提供的数据结构，计算机会在底层实现对栈提供支持；分配专门的寄存器存放栈的地址，压栈出栈都有专门的指令执行，这就决定栈的效率比较高
而堆是c/c++函数提供的，机制很复杂。会产生碎片等影响效率的问题
